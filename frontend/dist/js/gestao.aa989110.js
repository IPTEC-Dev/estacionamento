(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gestao"],{"0933":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"Configurações do sistema",description:"Controle preços e horários do sistema"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-alert",{attrs:{value:!0,type:"info"}},[t._v("\n        Note que as configurações de selos são feitas no sistema\n        "),a("strong",[t._v("CrediTimão")]),t._v(".\n      ")])],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("h1",{staticClass:"headline mb-0"},[t._v("Preços")])]),a("v-card-text",[t.loadingSettings?a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):a("v-form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"De 0 a 4 horas",rules:t.defaultRules},model:{value:t.settings.zeroAQuatro,callback:function(e){t.$set(t.settings,"zeroAQuatro",t._n(e))},expression:"settings.zeroAQuatro"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"De 4 a 8 horas",rules:t.defaultRules},model:{value:t.settings.quatroAOito,callback:function(e){t.$set(t.settings,"quatroAOito",t._n(e))},expression:"settings.quatroAOito"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"De 8 a 12 horas",rules:t.defaultRules},model:{value:t.settings.oitoADoze,callback:function(e){t.$set(t.settings,"oitoADoze",t._n(e))},expression:"settings.oitoADoze"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"Acima de 12 horas",rules:t.defaultRules},model:{value:t.settings.acimaDeDoze,callback:function(e){t.$set(t.settings,"acimaDeDoze",t._n(e))},expression:"settings.acimaDeDoze"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"Motocicleta",rules:t.defaultRules},model:{value:t.settings.motocicleta,callback:function(e){t.$set(t.settings,"motocicleta",t._n(e))},expression:"settings.motocicleta"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"Próximo dia",rules:t.defaultRules},model:{value:t.settings.proximoDia,callback:function(e){t.$set(t.settings,"proximoDia",t._n(e))},expression:"settings.proximoDia"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"Preço fixo após o horário limite",rules:t.defaultRules,type:"number",min:"0"},model:{value:t.settings.aposHorarioLimite,callback:function(e){t.$set(t.settings,"aposHorarioLimite",t._n(e))},expression:"settings.aposHorarioLimite"}})],1)],1),a("button",{staticStyle:{display:"none"},attrs:{type:"submit"}},[t._v("Salvar")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("h1",{staticClass:"headline mb-0"},[t._v("Horários")])]),a("v-card-text",[t.loadingSettings?a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):a("v-form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"alarm",label:"Horário limite",suffix:"horas",rules:t.defaultRules,hint:"Após este horário, todos os veículos pagarão R$ "+t.settings.aposHorarioLimite+" na entrada","persistent-hint":"",type:"number",max:"23",min:"0"},model:{value:t.settings.horarioLimite,callback:function(e){t.$set(t.settings,"horarioLimite",t._n(e))},expression:"settings.horarioLimite"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"av_timer",label:"Tolerância",suffix:"minutos",rules:t.defaultRules,type:"number"},model:{value:t.settings.tolerancia,callback:function(e){t.$set(t.settings,"tolerancia",t._n(e))},expression:"settings.tolerancia"}})],1)],1),a("button",{staticStyle:{display:"none"},attrs:{type:"submit"}},[t._v("Salvar")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("h1",{staticClass:"headline mb-0"},[t._v("Caixas")])]),a("v-card-text",[t.loadingSettings?a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):a("v-form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{prefix:"R$",label:"Saldo inicial do caixa",rules:t.defaultRules,type:"number",min:"0"},model:{value:t.settings.valorInicialCaixa,callback:function(e){t.$set(t.settings,"valorInicialCaixa",t._n(e))},expression:"settings.valorInicialCaixa"}})],1)],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[t.loadingSettings?a("v-flex",{attrs:{xs12:"","text-xs-center":""}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):a("v-flex",{attrs:{xs12:""}},[t._v("\n            Última vez alterado por\n            "),a("strong",[t._v(t._s(t.settings.operador))]),t._v(" em\n            "),a("strong",[t._v(t._s(t._f("formatDate")(t.settings.updated_at)))]),t._v(".\n          ")])],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:!t.valid},on:{click:t.save}},[t._v("Salvar configurações")])],1)],1)],1)],1)],1)},o=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c97e"),l=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u={name:"Configuracoes",components:{PageTitle:i["a"]},computed:c({},Object(l["b"])("user",["getUser"])),data:function(){return{loadingSettings:!0,valid:!1,defaultRules:[function(t){return!!t||"Este campo é obrigatório"}],settings:[]}},methods:{reset:function(){this.settings={}},loadPrices:function(){var t=this;this.$api("configuracoes").then(function(e){t.settings=e.data,t.loadingSettings=!1}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})},save:function(){var t=this;this.$api.post("configuracoes",c({},this.settings,{operador:this.getUser.username})).then(function(){t.$store.commit("snackbar/showMessage",{text:"Configurações atualizadas",color:"primary"}),t.loadPrices()}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})}},mounted:function(){this.loadPrices()}},d=u,v=a("2877"),p=a("6544"),m=a.n(p),f=a("0798"),x=a("8336"),b=a("b0af"),_=a("99d9"),h=a("12b2"),g=a("ce7e"),y=a("0e8f"),P=a("4bd4"),C=a("a722"),k=a("490a"),w=a("9910"),V=a("2677"),D=Object(v["a"])(d,s,o,!1,null,null,null);e["default"]=D.exports;m()(D,{VAlert:f["a"],VBtn:x["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:h["a"],VDivider:g["a"],VFlex:y["a"],VForm:P["a"],VLayout:C["a"],VProgressCircular:k["a"],VSpacer:w["a"],VTextField:V["a"]})},"1fa4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in"}},[a("router-view")],1)],1)},o=[],r={name:"Admin"},i=r,l=a("2877"),n=Object(l["a"])(i,s,o,!1,null,null,null);e["default"]=n.exports},2575:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"Veículos cadastrados",description:"Controle todos os veículos previamente cadastrados no sistema"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{box:"","prepend-inner-icon":"search",label:"Pesquisar em veículos cadastrados",clearable:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-card-text",[a("v-data-table",{attrs:{loading:t.loadingData,headers:t.headers,items:t.veiculos,search:t.search,"no-data-text":"Não há veículos cadastrados","rows-per-page-text":"Veículos por página","rows-per-page-items":[25,50,100,{text:"Todos",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[a("strong",[t._v(t._s(e.item.placa))])]),a("td",[t._v(t._s(e.item.nome))]),a("td",[t._v(t._s(e.item.matricula))]),a("td",[t._v(t._s(e.item.tipo))]),a("td",[t._v(t._s(e.item.autorizante))]),a("td",[t._v(t._s(e.item.modelo))]),a("td",[t._v(t._s(e.item.cor))]),a("td",[t._v(t._s(e.item.operador))]),a("td",[t._v(t._s(t._f("formatDate")(e.item.updated_at)))]),a("td",[a("v-btn",{attrs:{icon:"",ripple:""}},[a("v-menu",{attrs:{"offset-y":"",left:""}},[a("v-icon",{attrs:{slot:"activator",color:"grey"},slot:"activator"},[t._v("more_vert")]),a("v-list",[a("v-list-tile",{on:{click:function(a){return t.edit(e.item.id)}}},[a("v-list-tile-title",[t._v("Editar")])],1),a("v-list-tile",{on:{click:function(a){return t.remove(e.item.id)}}},[a("v-list-tile-title",[t._v("Excluir")])],1)],1)],1)],1)],1)])]}}])})],1)],1)],1)],1),a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{color:"primary",dark:"",fab:"",bottom:"",fixed:"",right:""}},s),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary white--text"},[t._v(t._s(t.veiculo.id?"Editar veículo":"Cadastrar veículo"))]),a("v-card-text",[a("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{attrs:{items:t.pessoas,label:"Pessoa","item-value":"id","item-text":"nome","prepend-inner-icon":"person","no-data-text":"Não há pessoas para serem exibidas"},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(t._s(e.item.nome)+" - "+t._s(e.item.matricula))]}},{key:"item",fn:function(e){return[t._v(t._s(e.item.nome)+" - "+t._s(e.item.matricula))]}}]),model:{value:t.veiculo.pessoa,callback:function(e){t.$set(t.veiculo,"pessoa",e)},expression:"veiculo.pessoa"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Placa","prepend-inner-icon":"directions_car",mask:"NNNNNNNNN"},model:{value:t.veiculo.placa,callback:function(e){t.$set(t.veiculo,"placa",e)},expression:"veiculo.placa"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Modelo","prepend-inner-icon":"bookmark"},model:{value:t.veiculo.modelo,callback:function(e){t.$set(t.veiculo,"modelo",e)},expression:"veiculo.modelo"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Cor","prepend-inner-icon":"color_lens"},model:{value:t.veiculo.cor,callback:function(e){t.$set(t.veiculo,"cor",e)},expression:"veiculo.cor"}})],1),a("button",{staticStyle:{display:"none"},attrs:{type:"submit"}},[t._v("Cadastrar")])],1)],1)]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:t.reset}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.save}},[t._v(t._s(t.veiculo.id?"Editar":"Cadastrar"))])],1)],1)],1)],1)},o=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c97e"),l=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u={name:"Veiculos",components:{PageTitle:i["a"]},computed:Object(l["b"])("user",["getUser"]),data:function(){return{search:"",dialog:!1,loadingData:!0,veiculo:{},veiculos:[],pessoas:[],headers:[{text:"Placa",value:"placa"},{text:"Motorista",value:"nome"},{text:"Matrícula",value:"matricula"},{text:"Tipo",value:"tipo"},{text:"Autorizante",value:"autorizante"},{text:"Veículo",value:"modelo"},{text:"Cor",value:"cor"},{text:"Operador",value:"operador"},{text:"Data de atualização",value:"updated_at"},{text:" ",value:"actions",sortable:!1}]}},methods:{remove:function(t){var e=this;this.$api.delete("veiculos/".concat(t)).then(function(){e.reset(),e.$store.commit("snackbar/showMessage",{text:"Veículo deletado com sucesso",color:"primary"})}).catch(function(t){e.$store.commit("snackbar/showMessage",{text:t.response.data,color:"error"})})},edit:function(t){var e=this;this.$api("veiculos/".concat(t)).then(function(t){e.veiculo=t.data,e.dialog=!0}).catch(function(t){e.$store.commit("snackbar/showMessage",{text:t.response.data,color:"error"})})},save:function(){var t=this;this.veiculo.id&&(this.veiculo.operador=this.getUser.username,delete this.veiculo.created_at),this.$api.post("veiculos".concat(this.veiculo.id?"/"+this.veiculo.id:""),c({},this.veiculo,{operador:this.getUser.username})).then(function(){t.reset(),t.$store.commit("snackbar/showMessage",{text:"Veículo saldo com sucesso",color:"primary"})}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})},reset:function(){this.search="",this.dialog=!1,this.veiculo={},this.loadData()},loadData:function(){var t=this;this.loadingData=!0,this.$api("veiculos").then(function(e){t.veiculos=e.data}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})}),this.$api("pessoas").then(function(e){t.loadingData=!1,t.pessoas=e.data}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})}},created:function(){this.loadData()}},d=u,v=a("2877"),p=a("6544"),m=a.n(p),f=a("c6a6"),x=a("8336"),b=a("b0af"),_=a("99d9"),h=a("12b2"),g=a("8fea"),y=a("169a"),P=a("ce7e"),C=a("0e8f"),k=a("132d"),w=a("a722"),V=a("8860"),D=a("ba95"),O=a("5d23"),$=a("e449"),T=a("9910"),S=a("2677"),j=Object(v["a"])(d,s,o,!1,null,"36ffbd3d",null);e["default"]=j.exports;m()(j,{VAutocomplete:f["a"],VBtn:x["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:h["a"],VDataTable:g["a"],VDialog:y["a"],VDivider:P["a"],VFlex:C["a"],VIcon:k["a"],VLayout:w["a"],VList:V["a"],VListTile:D["a"],VListTileTitle:O["c"],VMenu:$["a"],VSpacer:T["a"],VTextField:S["a"]})},"26e5":function(t,e,a){},"2fdb":function(t,e,a){"use strict";var s=a("5ca1"),o=a("d2c8"),r="includes";s(s.P+s.F*a("5147")(r),"String",{includes:function(t){return!!~o(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"386d":function(t,e,a){"use strict";var s=a("cb7c"),o=a("83a1"),r=a("5f1b");a("214f")("search",1,function(t,e,a,i){return[function(a){var s=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,s):new RegExp(a)[e](String(s))},function(t){var e=i(a,t,this);if(e.done)return e.value;var l=s(t),n=String(this),c=l.lastIndex;o(c,0)||(l.lastIndex=0);var u=r(l,n);return o(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]})},"4bd4":function(t,e,a){"use strict";a("26e5");var s=a("94ab");e["a"]={name:"v-form",mixins:[Object(s["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",function(a){e.$set(e.errorBag,t._uid,a)},{immediate:!0})},s={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",function(o){o&&(e.errorBag.hasOwnProperty(t._uid)||(s.valid=a(t)))}):s.valid=a(t),s},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find(function(e){return e._uid===t._uid});if(e){var a=this.watchers.find(function(t){return t._uid===e._uid});a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter(function(t){return t._uid!==e._uid}),this.inputs=this.inputs.filter(function(t){return t._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},5147:function(t,e,a){var s=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,!"/./"[t](e)}catch(o){}}return!0}},"56ff":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"Pessoas cadastradas",description:"Consulte por todas as pessoas cadastradas no sistema"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{box:"","prepend-inner-icon":"search",label:"Pesquisar em pessoas cadastradas",clearable:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-card-text",[a("v-data-table",{attrs:{loading:t.loadingPeople,headers:t.headers,items:t.pessoas,search:t.search,"no-data-text":"Não há pessoas cadastradas","rows-per-page-text":"Pessoas por página","rows-per-page-items":[25,50,100,{text:"Todas",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[t._v(t._s(e.item.matricula))]),a("td",[t._v(t._s(e.item.nome))]),a("td",[t._v(t._s(e.item.tipo))]),a("td",[t._v(t._s(e.item.autorizante))]),a("td",[t._v(t._s(e.item.operador))]),a("td",[t._v(t._s(t._f("formatDate")(e.item.created_at)))]),a("td",[t._v(t._s(t._f("formatDate")(e.item.updated_at)))]),a("td",[a("v-btn",{attrs:{icon:"",ripple:""}},[a("v-menu",{attrs:{"offset-y":"",left:""}},[a("v-icon",{attrs:{slot:"activator",color:"grey"},slot:"activator"},[t._v("more_vert")]),a("v-list",[a("v-list-tile",{on:{click:function(a){return t.edit(e.item.id)}}},[a("v-list-tile-title",[t._v("Editar")])],1),a("v-list-tile",{on:{click:function(a){return t.remove(e.item.id)}}},[a("v-list-tile-title",[t._v("Excluir")])],1)],1)],1)],1)],1)])]}}])})],1)],1)],1)],1),a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{color:"primary",dark:"",fab:"",bottom:"",fixed:"",right:""}},s),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary white--text"},[t._v(t._s(t.pessoa.id?"Editar pessoa":"Cadastrar pessoa"))]),a("v-card-text",[a("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Nome","prepend-inner-icon":"person"},model:{value:t.pessoa.nome,callback:function(e){t.$set(t.pessoa,"nome",e)},expression:"pessoa.nome"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Matrícula",type:"number","prepend-inner-icon":"credit_card"},model:{value:t.pessoa.matricula,callback:function(e){t.$set(t.pessoa,"matricula",e)},expression:"pessoa.matricula"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{"prepend-inner-icon":"category",items:["Funcionário","Credenciado","Conselheiro","Atleta"],label:"Tipo"},model:{value:t.pessoa.tipo,callback:function(e){t.$set(t.pessoa,"tipo",e)},expression:"pessoa.tipo"}})],1),"Credenciado"===t.pessoa.tipo?a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Autorizante","prepend-inner-icon":"lock"},model:{value:t.pessoa.autorizante,callback:function(e){t.$set(t.pessoa,"autorizante",e)},expression:"pessoa.autorizante"}})],1):t._e(),a("button",{staticStyle:{display:"none"},attrs:{type:"submit"}},[t._v("Cadastrar")])],1)],1)]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:""},on:{click:t.reset}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.save}},[t._v(t._s(t.pessoa.id?"Editar":"Cadastrar"))])],1)],1)],1)],1)},o=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("386d"),a("6762"),a("2fdb"),a("bd86")),i=a("c97e"),l=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u={name:"Pessoas",components:{PageTitle:i["a"]},computed:c({},Object(l["b"])("user",["getUser"]),{filteredPeople:function(){var t=this;return this.pessoas.filter(function(e){return e.nome.toLowerCase().includes(t.search.toLowerCase())||e.tipo.toLowerCase().includes(t.search.toLowerCase())||e.operador.toLowerCase().includes(t.search.toLowerCase())})}}),data:function(){return{search:"",dialog:!1,loadingPeople:!0,pessoa:{},pessoas:[],headers:[{text:"Matrícula",value:"matricula"},{text:"Nome",value:"nome"},{text:"Tipo",value:"tipo"},{text:"Autorizante",value:"autorizante"},{text:"Operador",value:"operador"},{text:"Criado em",value:"created_at"},{text:"Atualizado em",value:"updated_at"},{text:" ",value:"actions",sortable:!1}]}},methods:{remove:function(t){var e=this;this.$api.delete("pessoas/".concat(t)).then(function(){return e.reset()}).catch(function(t){e.$store.commit("snackbar/showMessage",{text:t.response.data,color:"error"})})},edit:function(t){var e=this;this.$api("pessoas/".concat(t)).then(function(t){e.pessoa=t.data,e.dialog=!0}).catch(function(t){e.$store.commit("snackbar/showMessage",{text:t.response.data,color:"error"})})},save:function(){var t=this;this.pessoa.id&&(this.pessoa.operador=this.getUser.username),this.$api.post("pessoas".concat(this.pessoa.id?"/"+this.pessoa.id:""),c({},this.pessoa,{operador:this.getUser.username})).then(function(){return t.reset()}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})},reset:function(){this.dialog=!1,this.pessoa={},this.pessoas=[],this.loadPeople()},loadPeople:function(){var t=this;this.loadingPeople=!0,this.$api("pessoas").then(function(e){t.loadingPeople=!1,t.pessoas=e.data}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})}},created:function(){this.loadPeople()}},d=u,v=(a("851e"),a("2877")),p=a("6544"),m=a.n(p),f=a("8336"),x=a("b0af"),b=a("99d9"),_=a("12b2"),h=a("8fea"),g=a("169a"),y=a("ce7e"),P=a("0e8f"),C=a("132d"),k=a("a722"),w=a("8860"),V=a("ba95"),D=a("5d23"),O=a("e449"),$=a("b56d"),T=a("9910"),S=a("2677"),j=Object(v["a"])(d,s,o,!1,null,"3305534e",null);e["default"]=j.exports;m()(j,{VBtn:f["a"],VCard:x["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:_["a"],VDataTable:h["a"],VDialog:g["a"],VDivider:y["a"],VFlex:P["a"],VIcon:C["a"],VLayout:k["a"],VList:w["a"],VListTile:V["a"],VListTileTitle:D["c"],VMenu:O["a"],VSelect:$["a"],VSpacer:T["a"],VTextField:S["a"]})},6762:function(t,e,a){"use strict";var s=a("5ca1"),o=a("c366")(!0);s(s.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"851e":function(t,e,a){"use strict";var s=a("8f6f"),o=a.n(s);o.a},"8f6f":function(t,e,a){},a7ea:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"Relatórios",description:"Tenha controle de movimentação e arrecadação do sistema"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("v-dialog",{ref:"dialog",attrs:{"return-value":t.date1,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.date1=e},"update:return-value":function(e){t.date1=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({staticClass:"mx-2",attrs:{type:"date",label:"Data inicial","prepend-inner-icon":"event",readonly:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},s))]}}]),model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("v-date-picker",{attrs:{locale:"pt-br",scrollable:""},model:{value:t.date1,callback:function(e){t.date1=e},expression:"date1"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal1=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date1)}}},[t._v("OK")])],1)],1),a("v-dialog",{ref:"dialog1",attrs:{"return-value":t.date2,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.date2=e},"update:return-value":function(e){t.date2=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({staticClass:"mx-2",attrs:{label:"Data final",type:"date","prepend-inner-icon":"event",readonly:""},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}},s))]}}]),model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[a("v-date-picker",{attrs:{locale:"pt-br",scrollable:""},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.modal2=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.dialog1.save(t.date2)}}},[t._v("OK")])],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-btn",{attrs:{color:"secondary",flat:""},on:{click:function(e){return t.consult(!0,"ma")}}},[t._v("Impr. movimentação e arrecadação")]),a("v-btn",{attrs:{color:"secondary",flat:""},on:{click:function(e){return t.consult(!0,"hc")}}},[t._v("Impr. histórico de caixas")]),a("v-btn",{attrs:{color:"secondary",flat:""},on:{click:function(e){return t.consult(!0,"cc")}}},[t._v("Impr. caixa consolidado")]),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:function(e){return t.consult()}}},[t._v("Consultar")])],1)],1)],1)],1)],1)],1),t.report?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-card-title",{staticClass:"title",attrs:{primary:""}},[t._v("Movimentação de pessoas")]),a("v-divider"),a("v-card-text",[a("v-list",{attrs:{"three-line":""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Sócios")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoPessoas.socios.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoPessoas.socios.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoPessoas.socios.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoPessoas.socios.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Credenciados")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoPessoas.credenciados.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoPessoas.credenciados.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoPessoas.credenciados.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoPessoas.credenciados.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Funcionários")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoPessoas.funcionarios.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoPessoas.funcionarios.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoPessoas.funcionarios.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoPessoas.funcionarios.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Conselheiros")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoPessoas.conselheiros.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoPessoas.conselheiros.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoPessoas.conselheiros.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoPessoas.conselheiros.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Atletas")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoPessoas.atletas.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoPessoas.atletas.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoPessoas.atletas.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoPessoas.atletas.total))])],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-card-title",{staticClass:"title",attrs:{primary:""}},[t._v("Movimentação de veículos")]),a("v-divider"),a("v-card-text",[a("v-list",{attrs:{"three-line":""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Cadastrados")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoVeiculos.cadastrados.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoVeiculos.cadastrados.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoVeiculos.cadastrados.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoVeiculos.cadastrados.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Carros avulsos")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoVeiculos.avulsosCarros.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoVeiculos.avulsosCarros.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoVeiculos.avulsosCarros.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoVeiculos.avulsosCarros.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Motocicletas avulsas")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoVeiculos.avulsosMotos.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoVeiculos.avulsosMotos.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoVeiculos.avulsosMotos.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoVeiculos.avulsosMotos.total))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Bicicletas avulsas")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.movimentacaoVeiculos.avulsosBicicletas.p1))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.movimentacaoVeiculos.avulsosBicicletas.p3))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.movimentacaoVeiculos.avulsosBicicletas.tamboreu))])])],1),a("v-list-tile-action",[t._v(t._s(t.report.movimentacaoVeiculos.avulsosBicicletas.total))])],1)],1)],1)],1)],1),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-card-title",{staticClass:"title",attrs:{primary:""}},[t._v("Arrecadação")]),a("v-divider"),a("v-card-text",[a("v-list",{attrs:{"three-line":""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Dinheiro")]),a("v-list-tile-sub-title",[a("span",[t._v("\n                    P1:\n                    "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.dinheiro.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.dinheiro.p1[0]["sum(`fluxos`.`valor`)"]))+"\n                  ")])]),a("v-list-tile-sub-title",[a("span",[t._v("\n                    P3:\n                    "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.dinheiro.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.dinheiro.p3[0]["sum(`fluxos`.`valor`)"]))+"\n                  ")])]),a("v-list-tile-sub-title",[a("span",[t._v("\n                    Tamboréu:\n                    "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.dinheiro.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.dinheiro.tamboreu[0]["sum(`fluxos`.`valor`)"]))+"\n                  ")])])],1),a("v-list-tile-action",[t._v(t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.dinheiro.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.dinheiro.total[0]["sum(`fluxos`.`valor`)"])))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Total cartão")]),a("v-list-tile-sub-title",[a("span",[t._v("\n                    P1:\n                    "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosEntrada.cartaoCredito.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosCartao.p1[0]["sum(`fluxos`.`valor`)"]))+"\n                  ")])]),a("v-list-tile-sub-title",[a("span",[t._v("\n                    P3:\n                    "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosEntrada.cartaoCredito.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosCartao.p3[0]["sum(`fluxos`.`valor`)"]))+"\n                  ")])]),a("v-list-tile-sub-title",[a("span",[t._v("\n                    Tamboréu:\n                    "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosEntrada.cartaoCredito.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosCartao.tamboreu[0]["sum(`fluxos`.`valor`)"]))+"\n                  ")])])],1),a("v-list-tile-action",[t._v("\n                "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosEntrada.cartaoCredito.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosCartao.total[0]["sum(`fluxos`.`valor`)"]))+"\n              ")])],1),a("v-divider",{staticClass:"my-2",attrs:{inset:""}}),a("v-list-tile",[a("v-list-tile-content",{staticClass:"ml-3"},[a("v-list-tile-title",[t._v("Débito")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.p1[0]["sum(`fluxos`.`valor`)"])))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.p3[0]["sum(`fluxos`.`valor`)"])))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.tamboreu[0]["sum(`fluxos`.`valor`)"])))])])],1),a("v-list-tile-action",[t._v(t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoDebito.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoDebito.total[0]["sum(`fluxos`.`valor`)"])))])],1),a("v-divider",{staticClass:"my-2",attrs:{inset:""}}),a("v-list-tile",[a("v-list-tile-content",{staticClass:"ml-3"},[a("v-list-tile-title",[t._v("Crédito")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoCredito.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.p1[0]["sum(`fluxos`.`valor`)"])))])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoCredito.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.p3[0]["sum(`fluxos`.`valor`)"])))])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoCredito.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.tamboreu[0]["sum(`fluxos`.`valor`)"])))])])],1),a("v-list-tile-action",[t._v(t._s(t._f("formatPrice")(t.report.arrecadacao.avulsosEntrada.cartaoCredito.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.avulsosSaida.cartaoCredito.total[0]["sum(`fluxos`.`valor`)"])))])],1),a("v-divider",{staticClass:"my-2"}),a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Selos")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.arrecadacao.selosQtd.selosFisicos.p1[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.selosQtd.selosDigitais.p1[0]["sum(`fluxos`.`valor`)"]||0)+" selos")])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.arrecadacao.selosQtd.selosFisicos.p3[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.selosQtd.selosDigitais.p3[0]["sum(`fluxos`.`valor`)"]||0)+" selos")])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.arrecadacao.selosQtd.selosFisicos.tamboreu[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.selosQtd.selosDigitais.tamboreu[0]["sum(`fluxos`.`valor`)"]||0)+" selos")])])],1),a("v-list-tile-action",[t._v(t._s(t.report.arrecadacao.selosQtd.selosFisicos.total[0]["sum(`fluxos`.`valor`)"]+t.report.arrecadacao.selosQtd.selosDigitais.total[0]["sum(`fluxos`.`valor`)"]||0)+" selos")])],1),a("v-divider",{staticClass:"my-2",attrs:{inset:""}}),a("v-list-tile",[a("v-list-tile-content",{staticClass:"ml-3"},[a("v-list-tile-title",[t._v("Digitais")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.arrecadacao.selosQtd.selosDigitais.p1[0]["sum(`fluxos`.`valor`)"]||0)+" selos digitais")])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.arrecadacao.selosQtd.selosDigitais.p3[0]["sum(`fluxos`.`valor`)"]||0)+" selos digitais")])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.arrecadacao.selosQtd.selosDigitais.tamboreu[0]["sum(`fluxos`.`valor`)"]||0)+" selos digitais")])])],1),a("v-list-tile-action",[t._v(t._s(t.report.arrecadacao.selosQtd.selosDigitais.total[0]["sum(`fluxos`.`valor`)"]||0)+" selos digitais")])],1),a("v-divider",{staticClass:"my-2",attrs:{inset:""}}),a("v-list-tile",[a("v-list-tile-content",{staticClass:"ml-3"},[a("v-list-tile-title",[t._v("Físicos")]),a("v-list-tile-sub-title",[a("span",[t._v("P1: "+t._s(t.report.arrecadacao.selosQtd.selosFisicos.p1[0]["sum(`fluxos`.`valor`)"]||0)+" selos físicos")])]),a("v-list-tile-sub-title",[a("span",[t._v("P3: "+t._s(t.report.arrecadacao.selosQtd.selosFisicos.p3[0]["sum(`fluxos`.`valor`)"]||0)+" selos físicos")])]),a("v-list-tile-sub-title",[a("span",[t._v("Tamboréu: "+t._s(t.report.arrecadacao.selosQtd.selosFisicos.tamboreu[0]["sum(`fluxos`.`valor`)"]||0)+" selos físicos")])])],1),a("v-list-tile-action",[t._v(t._s(t.report.arrecadacao.selosQtd.selosFisicos.total[0]["sum(`fluxos`.`valor`)"]||0)+" selos físicos")])],1)],1)],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"title",attrs:{primary:""}},[t._v("Histórico de caixas")]),a("v-divider"),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.report.caixas.historicoCaixas,"no-data-text":"Não há caixas para serem exibidos","rows-per-page-text":"Caixas por página","rows-per-page-items":[25,50,100,{text:"Todos",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v("Caixa #"+t._s(e.item.id))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.operadorInicial))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.operadorFinal))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item.saldoInicial)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item.saldoFinalBruto)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item.saldoFinalReal)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item.montanteRetirado)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.estado?"Fechado":"Aberto"))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatDate")(e.item.created_at)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatDate")(e.item.estado?e.item.updated_at:null)))])]}}],null,!1,3828828283)})],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",{staticClass:"title",attrs:{primary:""}},[t._v("Caixa consolidado")]),a("v-divider"),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.report.caixas.historicoCaixasConsolidados,"no-data-text":"Não há dados para serem exibidos","rows-per-page-text":"Caixas por página","rows-per-page-items":[25,50,100,{text:"Todos",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v("Caixa consolidado")]),a("td",{staticClass:"text-xs-center"},[t._v("Diversos")]),a("td",{staticClass:"text-xs-center"},[t._v("Diversos")]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item["sum(`saldoInicial`)"])))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item["sum(`saldoFinalBruto`)"])))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item["sum(`saldoFinalReal`)"])))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatPrice")(e.item["sum(`montanteRetirado`)"])))]),a("td",{staticClass:"text-xs-center"},[t._v("Fechado")]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatDate")(t.date1)))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("formatDate")(t.date2)))])]}}],null,!1,1381813463)})],1)],1)],1)],1):t._e()],1)},o=[],r=a("c97e"),i={name:"Relatorios",components:{PageTitle:r["a"]},data:function(){return{date1:(new Date).toISOString().substr(0,10),date2:(new Date).toISOString().substr(0,10),modal1:!1,modal2:!1,report:null,headers:[{text:"Caixa",value:"caixa"},{text:"Operador inicial",value:"Operador inicial"},{text:"Operador final",value:"Operador final"},{text:"Saldo inicial",value:"Saldo inicial"},{text:"Saldo final bruto",value:"Saldo final bruto"},{text:"Saldo final real",value:"Saldo final real"},{text:"Montante retirado",value:"Montante retirado"},{text:"Estado",value:"Estado"},{text:"Abertura",value:"Abertura"},{text:"Fechamento",value:"Fechamento"}]}},methods:{consult:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ma";this.$api("reports/".concat(this.date1,"/").concat(this.date2)).then(function(s){e.report={},e.report.caixas=s.data.caixas,e.report.movimentacaoPessoas=s.data.movimentacaoPessoas,e.report.movimentacaoVeiculos=s.data.movimentacaoVeiculos,e.report.arrecadacao=s.data.arrecadacao,t&&(e.report.date1=e.date1,e.report.date2=e.date2,window.sendToElectron(e.report,a))}).catch(function(t){e.$store.commit("snackbar/showMessage",{text:t.response.data,color:"error"})})}}},l=i,n=a("2877"),c=a("6544"),u=a.n(c),d=a("8336"),v=a("b0af"),p=a("99d9"),m=a("12b2"),f=a("8fea"),x=a("2e4b"),b=a("169a"),_=a("ce7e"),h=a("0e8f"),g=a("a722"),y=a("8860"),P=a("ba95"),C=a("40fe"),k=a("5d23"),w=a("9910"),V=a("2677"),D=Object(n["a"])(l,s,o,!1,null,null,null);e["default"]=D.exports;u()(D,{VBtn:d["a"],VCard:v["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:m["a"],VDataTable:f["a"],VDatePicker:x["a"],VDialog:b["a"],VDivider:_["a"],VFlex:h["a"],VLayout:g["a"],VList:y["a"],VListTile:P["a"],VListTileAction:C["a"],VListTileContent:k["a"],VListTileSubTitle:k["b"],VListTileTitle:k["c"],VSpacer:w["a"],VTextField:V["a"]})},aae3:function(t,e,a){var s=a("d3f4"),o=a("2d95"),r=a("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},b714:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"Bloqueios",description:"Bloqueie um veículo pela placa ou pela matrícula de um sócio"}}),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.onLock(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{items:["Placa","Matrícula"],rules:t.defaultRules,counter:"255",clearable:"",label:"O que será bloqueado?",required:""},model:{value:t.lock.type,callback:function(e){t.$set(t.lock,"type",e)},expression:"lock.type"}})],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{rules:t.defaultRules,counter:"255",clearable:"",disabled:!t.lock.type,"return-masked-value":"",mask:"Placa"!==t.lock.type?"nnnnnn-nn":"NNNNNNNNNNNNNNNNNNNNN",label:t.lock.type?"Placa"===t.lock.type?"Digite a placa do veículo":"Digite a matrícula do sócio":"Selecione o que será bloqueado",required:""},model:{value:t.lock.value,callback:function(e){t.$set(t.lock,"value",e)},expression:"lock.value"}})],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{rules:t.defaultRules,counter:"255",clearable:"",disabled:!t.lock.type,label:"Motivo do bloqueio",required:""},model:{value:t.lock.reason,callback:function(e){t.$set(t.lock,"reason",e)},expression:"lock.reason"}})],1)],1),a("button",{staticStyle:{display:"none"},attrs:{type:"submit"}},[t._v("Bloquear")])],1)],1),a("v-divider"),a("v-card-actions",[a("v-card-actions",[a("v-btn",{attrs:{flat:""},on:{click:t.reset}},[t._v("Limpar campos")]),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:!t.lock.type||!t.lock.value||!t.lock.reason},on:{click:t.onLock}},[t._v("Bloquear")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{label:"Pesquise por placas bloqueadas",clearable:"",box:"","hide-details":""},model:{value:t.searchPlates,callback:function(e){t.searchPlates=e},expression:"searchPlates"}})],1),a("v-card-text",[a("v-data-table",{attrs:{loading:t.loadingPlates,headers:t.headersPlates,items:t.plates,search:t.searchPlates,"no-data-text":"Não há placas bloqueadas","rows-per-page-text":"Placas por página","rows-per-page-items":[25,50,100,{text:"Todas",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[a("strong",[t._v(t._s(e.item.placa))])]),a("td",[t._v(t._s(e.item.motivo))]),a("td",[t._v(t._s(e.item.operador))]),a("td",[t._v(t._s(t._f("formatDate")(e.item.created_at)))]),a("td",[a("v-btn",{attrs:{flat:"",icon:"",color:"error"},on:{click:function(a){return t.deleteLock(e.item.id)}}},[a("v-icon",[t._v("delete")])],1)],1)])]}}])})],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{label:"Pesquise por matrículas bloqueadas",clearable:"",box:"","hide-details":""},model:{value:t.searchRegistrations,callback:function(e){t.searchRegistrations=e},expression:"searchRegistrations"}})],1),a("v-card-text",[a("v-data-table",{attrs:{loading:t.loadingRegistrations,headers:t.headersRegistrations,items:t.registrations,search:t.searchRegistrations,"no-data-text":"Não há matrículas bloqueadas","rows-per-page-text":"Matrículas por página","rows-per-page-items":[25,50,100,{text:"Todas",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[a("strong",[t._v(t._s(e.item.matricula))])]),a("td",[t._v(t._s(e.item.motivo))]),a("td",[t._v(t._s(e.item.operador))]),a("td",[t._v(t._s(t._f("formatDate")(e.item.created_at)))]),a("td",[a("v-btn",{attrs:{flat:"",icon:"",color:"error"},on:{click:function(a){return t.deleteLock(e.item.id)}}},[a("v-icon",[t._v("delete")])],1)],1)])]}}])})],1)],1)],1)],1)],1)},o=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("c97e"),l=a("2f62");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u={name:"Bloqueios",components:{PageTitle:i["a"]},computed:c({},Object(l["b"])("user",["getUser"])),data:function(){return{loadingRegistrations:!0,loadingPlates:!0,headersPlates:[{text:"Placa",value:"placa"},{text:"Motivo",value:"motivo"},{text:"Operador",value:"operador"},{text:"Data",value:"created_at"},{text:"",value:"action"}],headersRegistrations:[{text:"Matrícula",value:"matricula"},{text:"Motivo",value:"motivo"},{text:"Operador",value:"operador"},{text:"Data",value:"created_at"},{text:"",value:"action"}],plates:[],registrations:[],searchPlates:"",searchRegistrations:"",lock:{},defaultRules:[function(t){return!!t||"Este campo é obrigatório"},function(t){return t&&t.length<=255||"Este campo tem um limite de 255 caracteres"}]}},methods:{reset:function(){this.lock={}},onLock:function(){var t=this;this.$api.post("locked",{type:"Placa"===this.lock.type?"plate":"registration",value:this.lock.value,reason:this.lock.reason,operator:this.getUser.username}).then(function(){t.reset(),t.loadPlates(),t.loadRegistrations()}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})},loadPlates:function(){var t=this;this.$api("locked/plates").then(function(e){t.plates=e.data,t.loadingPlates=!1}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})},loadRegistrations:function(){var t=this;this.$api("locked/registrations").then(function(e){t.registrations=e.data,t.loadingRegistrations=!1}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})},deleteLock:function(t){var e=this;this.$api.delete("locked/".concat(t)).then(function(){e.loadPlates(),e.loadRegistrations()}).catch(function(t){e.$store.commit("snackbar/showMessage",{text:t.response.data,color:"error"})})}},mounted:function(){this.loadPlates(),this.loadRegistrations()}},d=u,v=a("2877"),p=a("6544"),m=a.n(p),f=a("8336"),x=a("b0af"),b=a("99d9"),_=a("12b2"),h=a("8fea"),g=a("ce7e"),y=a("0e8f"),P=a("4bd4"),C=a("132d"),k=a("a722"),w=a("b56d"),V=a("2677"),D=Object(v["a"])(d,s,o,!1,null,null,null);e["default"]=D.exports;m()(D,{VBtn:f["a"],VCard:x["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:_["a"],VDataTable:h["a"],VDivider:g["a"],VFlex:y["a"],VForm:P["a"],VIcon:C["a"],VLayout:k["a"],VSelect:w["a"],VTextField:V["a"]})},c27a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"Ocorrências",description:"Consulte todas as ocorrências já registradas"}}),a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"prepend-inner-icon":"search",label:"Pesquisar em ocorrências",clearable:"",box:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{loading:t.loadingOcorrencias,headers:t.headers,items:t.ocorrencias,search:t.search,"no-data-text":"Não há ocorrências cadastradas","rows-per-page-text":"Ocorrências por página","rows-per-page-items":[25,50,100,{text:"Todas",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(t){e.expanded=!e.expanded}}},[a("td",[a("strong",[t._v("Nº "+t._s(e.item.id))])]),a("td",[t._v(t._s(e.item.matricula))]),a("td",[t._v(t._s(e.item.descricao))]),a("td",[t._v(t._s(e.item.operador))]),a("td",[t._v(t._s(t._f("formatDate")(e.item.created_at)))])])]}}])})],1)],1)},o=[],r=a("c97e"),i={name:"Ocorrencias",components:{PageTitle:r["a"]},data:function(){return{loadingOcorrencias:!0,ocorrencias:[],search:"",headers:[{text:"Número",value:"id"},{text:"Matrícula",value:"matricula"},{text:"Descrição",value:"descricao"},{text:"Operador",value:"operador"},{text:"Entrada",value:"created_at"}]}},methods:{getOcorrencias:function(){var t=this;this.$api("/ocorrencias").then(function(e){t.ocorrencias=e.data,t.loadingOcorrencias=!1}).catch(function(e){t.$store.commit("snackbar/showMessage",{text:e.response.data,color:"error"})})}},mounted:function(){this.getOcorrencias()}},l=i,n=a("2877"),c=a("6544"),u=a.n(c),d=a("b0af"),v=a("12b2"),p=a("8fea"),m=a("2677"),f=Object(n["a"])(l,s,o,!1,null,null,null);e["default"]=f.exports;u()(f,{VCard:d["a"],VCardTitle:v["a"],VDataTable:p["a"],VTextField:m["a"]})},d2c8:function(t,e,a){var s=a("aae3"),o=a("be13");t.exports=function(t,e,a){if(s(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(o(t))}}}]);